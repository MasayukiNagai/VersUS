<!DOCTYPE html>
<html lang="en" ng-app="testApp">

<head>
</head>

<body>
  <table border=1>
    <button onclick="exportTableToCSV('members.tsv');">Export HTML Table To CSV File</button>
    <tr>
      <th></th>
      <th> sub_domain</th>
      <th> nReviews</th>
      <th> Ratings_e</th>
      <th> Text_e</th>
      <th> rn</th>
    </tr>

    <tr>
      <td align=\ "right\"> 1</td>
      <td> a1</td>
      <td align=\ "right\"> 2</td>
      <td> 1, 2</td>
      <td> asd, dfdsf</td>
      <td align="left"> 1</td>

    </tr>
  </table>

  <script type="text/javascript">
    function exportTableToCSV(filename) {
        alert("I am an alert box!");
        var csv = [];
        var rows = document.querySelectorAll("table tr");

        for (var i = 0; i < rows.length; i++) {
          var row = [],
            cols = rows[i].querySelectorAll("td, th");

          for (var j = 0; j < cols.length; j++)
            row.push(cols[j].innerText);

          csv.push(row.join("\t"));
        }

        // Download CSV file
        alert('Hey')
        downloadCSV(csv.join("\n"), filename);
      }

      function downloadCSV(tsv, filename) {
        var csvFile;
        var downloadLink;

        // CSV file
        csvFile = new Blob([tsv], {
          type: "text/tsv"
        });

        // Download link
        downloadLink = document.createElement("a");

        // File name
        downloadLink.download = filename;

        // Create a link to the file
        downloadLink.href = window.URL.createObjectURL(csvFile);

        // Hide download link
        downloadLink.style.display = "none";

        // Add the link to DOM
        document.body.appendChild(downloadLink);

        // Click download link
        downloadLink.click();
      }
  </script>
</body>

</html>
